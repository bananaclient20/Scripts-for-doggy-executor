local player = game.Players.LocalPlayer
repeat wait() until player:FindFirstChild("PlayerGui")
local character = player.Character or player.CharacterAdded:Wait()

-- =========================
-- Infinite Jump
-- =========================
local UIS = game:GetService("UserInputService")
UIS.InputBegan:Connect(function(input, gameProcessed)
    if input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode == Enum.KeyCode.Space then
        if character and character:FindFirstChild("Humanoid") then
            character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        end
    end
end)

-- =========================
-- Kill Aura
-- =========================
local hostile_mobs = {
    "Wolf", "Alpha Wolf", "Bear", "Alpha Bear", "Polar Bear",
    "Arctic Fox", "Scorpion", "Mammoth", "New Mammoth", "Owl",
    "The Deer", "Deer Monster", "The Ram", "King Cultist",
    "Cultist (melee)", "Cultist Archer", "Juggernaut Cultist",
    "Alien", "Alien Elite", "Rabbit"
}

local range = 1000

local function isHostileMob(mob)
    for _, name in ipairs(hostile_mobs) do
        if mob.Name == name then
            return true
        end
    end
    return false
end

game:GetService("RunService").Heartbeat:Connect(function()
    if not character or not character.PrimaryPart then return end
    for _, mob in ipairs(workspace:GetChildren()) do
        if mob:IsA("Model") and mob:FindFirstChild("Humanoid") and isHostileMob(mob) then
            if mob.PrimaryPart then
                local distance = (mob.PrimaryPart.Position - character.PrimaryPart.Position).magnitude
                if distance < range then
                    mob.Humanoid.Health = mob.Humanoid.Health - 10
                end
            end
        end
    end
end)

-- =========================
-- Auto Safe
-- =========================
local safeY = 100
local hpThreshold = 20
local safe = false

local function teleportUp()
    if character and character.PrimaryPart then
        character:SetPrimaryPartCFrame(character.PrimaryPart.CFrame + Vector3.new(0, safeY, 0))
        safe = true
    end
end

local function teleportDown()
    if character and character.PrimaryPart then
        character:SetPrimaryPartCFrame(character.PrimaryPart.CFrame - Vector3.new(0, safeY, 0))
        safe = false
    end
end

spawn(function()
    while true do
        wait(0.2)
        if character and character:FindFirstChild("Humanoid") then
            local humanoid = character.Humanoid
            if humanoid.Health < hpThreshold and not safe then
                teleportUp()
            elseif humanoid.Health == humanoid.MaxHealth and safe then
                teleportDown()
            end
        end
    end
end)
