--[[
99 Nocy w Lesie – KillAura REAL + GUI
Autor: ChatGPT
--]]

local player = game.Players.LocalPlayer
local uis = game:GetService("UserInputService")
local runService = game:GetService("RunService")

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "Night99CheatGUI"
ScreenGui.Parent = player:WaitForChild("PlayerGui")

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 250, 0, 300)
mainFrame.Position = UDim2.new(0.5, -125, 0.5, -150)
mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
mainFrame.BackgroundTransparency = 0.2
mainFrame.BorderSizePixel = 0
mainFrame.Parent = ScreenGui
mainFrame.Active = true
mainFrame.Draggable = true

local function createButton(text, parent)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, 220, 0, 40)
    btn.Position = UDim2.new(0, 15, 0, #parent:GetChildren() * 45)
    btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Text = text
    btn.Parent = parent
    return btn
end

-- Toggle Variables
local killAuraEnabled = false
local autoSafeEnabled = false
local infJumpEnabled = false
local noclipEnabled = false

-- Buttons
local killAuraBtn = createButton("KillAura: OFF", mainFrame)
local autoSafeBtn = createButton("AutoSafe: OFF", mainFrame)
local infJumpBtn = createButton("Inf Jump: OFF", mainFrame)
local noclipBtn = createButton("Noclip: OFF", mainFrame)

-- Toggle Functions
killAuraBtn.MouseButton1Click:Connect(function()
    killAuraEnabled = not killAuraEnabled
    killAuraBtn.Text = "KillAura: "..(killAuraEnabled and "ON" or "OFF")
end)

autoSafeBtn.MouseButton1Click:Connect(function()
    autoSafeEnabled = not autoSafeEnabled
    autoSafeBtn.Text = "AutoSafe: "..(autoSafeEnabled and "ON" or "OFF")
end)

infJumpBtn.MouseButton1Click:Connect(function()
    infJumpEnabled = not infJumpEnabled
    infJumpBtn.Text = "Inf Jump: "..(infJumpEnabled and "ON" or "OFF")
end)

noclipBtn.MouseButton1Click:Connect(function()
    noclipEnabled = not noclipEnabled
    noclipBtn.Text = "Noclip: "..(noclipEnabled and "ON" or "OFF")
end)

-- KillAura Logic (samowystarczalna)
runService.RenderStepped:Connect(function()
    if killAuraEnabled and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then

        -- ZASIĘG w KillAurze
        local killAuraRange = 500

        -- Lista mobów w KillAurze
        local hostile_mobs = {
            "Wolf","Alpha Wolf","Bear","Alpha Bear","Polar Bear","Arctic Fox",
            "Scorpion","Mammoth","New Mammoth","Owl","The Deer","Deer Monster",
            "The Ram","King Cultist","Cultist (melee)","Cultist Archer",
            "Juggernaut Cultist","Alien","Alien Elite","Rabbit"
        }

        -- Lista broni w KillAurze
        local weapons = {
            "Old Axe","Good Axe","Strong Axe","Ice Axe","Chainsaw","Spear","Poison Spear","Katana",
            "Laser Sword","Ice Sword","Morningstar","Infernal Sword","Trident",
            "Revolver","Rifle","Raygun","Flamethrower","Blowpipe","Wildfire","Crossbow",
            "Tactical Shotgun","Ice Shuriken","Kunai",
            "Torch","Bandage","Fuel Canister","Cooked Morsel","Cooked Meat",
            "Admin Axe","Laser Cannon"
        }

        -- Wybór broni
        local tool = nil
        for _, itemName in pairs(weapons) do
            tool = player.Backpack:FindFirstChild(itemName) or player.Character:FindFirstChild(itemName)
            if tool and tool:IsA("Tool") then break end
        end

        if tool then
            tool.Parent = player.Character -- Equip tool

            -- Pętla po mobach
            for _, mob in pairs(workspace:GetChildren()) do
                if mob:FindFirstChild("Humanoid") and mob:FindFirstChild("HumanoidRootPart") then
                    for _, mobName in pairs(hostile_mobs) do
                        if string.find(mob.Name, mobName) then
                            local dist = (mob.HumanoidRootPart.Position - player.Character.HumanoidRootPart.Position).Magnitude
                            if dist <= killAuraRange then
                                tool:Activate() -- real attack
                            end
                        end
                    end
                end
            end
        end
    end
end)

-- AutoSafe
runService.RenderStepped:Connect(function()
    if autoSafeEnabled and player.Character and player.Character:FindFirstChild("Humanoid") then
        local humanoid = player.Character.Humanoid
        if humanoid.Health < humanoid.MaxHealth then
            player.Character.HumanoidRootPart.CFrame = CFrame.new(player.Character.HumanoidRootPart.Position.X, 50, player.Character.HumanoidRootPart.Position.Z)
        end
    end
end)

-- Infinite Jump
uis.JumpRequest:Connect(function()
    if infJumpEnabled and player.Character and player.Character:FindFirstChild("Humanoid") then
        player.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

-- Noclip
runService.Stepped:Connect(function()
    if noclipEnabled and player.Character then
        for _, part in pairs(player.Character:GetDescendants()) do
            if part:IsA("BasePart") and part.CanCollide then
                part.CanCollide = false
            end
        end
    end
end)
